digraph SCGraph {
  graph [fontname="helvetica"];
  node  [fontname="helvetica"];
  edge  [fontname="helvetica"];
  start [shape=plaintext];
  start -> fstatat_src;
  end [shape=plaintext];
  fstatat_src -> do_fstatat_dst [style=dashed];
  do_fstatat_dst [shape=diamond,label="do_fstatat_dst?"];
  do_fstatat_dst -> fstatat_dst [arrowhead=empty];
  do_fstatat_dst -> open_src [arrowhead=empty];
  open_src [shape=box,style=bold];
  open_src -> fstat_src;
  fstat_src -> openat_dst;
  openat_dst [shape=box,style=bold];
  openat_dst -> fstat_dst;
  fstat_dst -> read_src;
  read_src -> stop_loop;
  stop_loop [shape=diamond,label="stop_loop?"];
  stop_loop -> close_dst [arrowhead=empty];
  stop_loop -> write_dst [arrowhead=empty];
  write_dst [shape=box,style=bold];
  write_dst -> continue;
  continue [shape=diamond,label="continue?"];
  continue:e -> read_src:e [arrowhead=empty,dir=both,arrowtail=odot];
  close_dst [shape=box,style=bold];
  close_dst -> close_src;
  close_src [shape=box,style=bold];
  close_src -> fstatat_dst_end [style=dashed];
  fstatat_dst_end -> end;
  fstatat_dst -> do_fstatat_dst_extra;
  do_fstatat_dst_extra [shape=diamond,label="do_fstatat_dst_extra?"];
  do_fstatat_dst_extra -> fstatat_dst_extra [arrowhead=empty];
  do_fstatat_dst_extra -> open_src [arrowhead=empty];
  fstatat_dst_extra -> open_src;
}
